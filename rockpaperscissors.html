<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>rock paper scissors</title>
    </head>
    <body>
        <script>
            function computerPlay() {
                let hand = Math.floor(Math.random()*3);
                switch (hand) {
                    case 0: 
                        return "Rock";
                        break;
                    case 1: 
                        return "Paper";
                        break;
                    case 2:
                        return "Scissors";
                }
            }
            function playRound(playerSelection, computerSelection) {
                playerSelection = playerSelection.toLowerCase();
                playerSelection = getCapitalization(playerSelection);
                if (computerSelection == playerSelection) {
                    return [0, 0, `${playerSelection} vs ${computerSelection}: it's a tie! Try again!`];
                } else {
                    if (winConditions (playerSelection, computerSelection)) {
                        return [1, 0, `You win! ${playerSelection} beats ${computerSelection}!`];
                    } else {
                        return [0, 1, `You lose! ${computerSelection} beats ${playerSelection}!`];
                    }
                }
            }
            function getCapitalization(word) { // make 'rock' => "Rock"
                let first = word[0];
                let upperFirst = first.toUpperCase();
                upperWord = word.replace(first, upperFirst);
                return upperWord;
            }
            function winConditions(playerHand, computerHand) {
                if (computerHand == 'Rock' && playerHand == 'Paper') {
                    return true;
                } else if (computerHand == 'Paper' && playerHand == 'Scissors') {
                    return true;
                } else if (computerHand == 'Scissors' && playerHand == 'Rock') {
                    return true;
                } else {
                    return false;
                }
            }
            function game(){
                let playerScore = 0;
                let computerScore = 0;
                for (let i = 0; i < 5; i++) {// play 5 rounds
                    let scores = [];
                    const playerSelection = prompt("Choose a hand!", "Rock");
                    const computerSelection = computerPlay();
                    scores = playRound(playerSelection, computerSelection);
                    playerScore += scores[0];
                    computerScore += scores [1];
                    console.log(scores[2]);
                }
                let winner = (playerScore > computerScore) ? "You win!" 
                    : (computerScore > playerScore) ? "You lose!"
                    : "It's a tie!";
                return `${winner} You got ${playerScore}; the computer got ${computerScore}!`; 
            }
                console.log(game());
        </script>
    </body>
</html>